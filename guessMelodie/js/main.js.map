{"version":3,"file":"main.js","sources":["js/data/initalState.js","js/support/get-random-screen-name.js","js/support/get-unique-items-from-array.js","js/support/computer-percentage.js","js/support/get-random-item.js","js/data/tracks.js","js/logic/main-logic.js","js/animate.js","js/time-format.js","js/timer.js","js/support/createDomElement.js","js/screenModules/main-welcom.js","js/player.js","js/screenModules/main-artist.js","js/screenModules/main-genre.js","js/screenModules/main-result-luck.js","js/screenModules/main-result-fail.js","js/support/convert-time.js","js/screenModules/screen-timer.js","js/support/clear-timer.js","js/logic/render.js","js/main.js"],"sourcesContent":["export const initialState = {\r\n  screen: `welcome`,\r\n  lives: 3,\r\n  timer: 120,\r\n  currentQuestion: 0,\r\n  questions: 10,\r\n  score: 0,\r\n  percentage: 0,\r\n  statistics: [\r\n    {time: 40, score: 10},\r\n    {time: 80, score: 9},\r\n    {time: 44, score: 10},\r\n    {time: 30, score: 8},\r\n    {time: 50, score: 0}\r\n  ],\r\n};\r\nlet state = {};\r\nexport const setState = (newState) => {\r\n  state = newState;\r\n};\r\nexport const getState = () => state;\r\n\r\n","const getRandomScreenName = () => {\r\n  return Math.random() > 0.5 ? `question-artist` : `question-genre`;\r\n};\r\n\r\nexport default getRandomScreenName;\r\n","const getUniqueItemsFromArray = function (size, array) {\r\n  const arrayTemp = [...array];\r\n  const newArray = [];\r\n  while (newArray.length < size) {\r\n    const randomItem = arrayTemp.splice(Math.floor(Math.random() * (arrayTemp.length - 1)), 1)[0];\r\n    newArray.push(randomItem);\r\n  }\r\n  return newArray;\r\n};\r\n\r\nexport default getUniqueItemsFromArray;\r\n","const computePercentage = ({time, score, statistics}) => {\r\n  const myStats = {time, score};\r\n  const numOfLusers = statistics.reduce((qurrentnumOfLusers, currentResult) => {\r\n    if (myStats.score > currentResult.score || myStats.score === currentResult.score && myStats.time < currentResult.time) {\r\n      return qurrentnumOfLusers + 1;\r\n    } else {\r\n      return qurrentnumOfLusers;\r\n    }\r\n  }, 0);\r\n  return Math.trunc(100 * numOfLusers / statistics.length);\r\n};\r\n\r\n\r\nexport default computePercentage;\r\n","const getRandomItem = (array) => {\r\n  const newArray = array.slice();\r\n  return newArray[Math.floor(Math.random() * (newArray.length - 1))];\r\n};\r\n\r\nexport default getRandomItem;\r\n","const tracks = [\n  {\n    id: 1,\n    genre: `Регги`,\n    filePath: `http://gamersss.esy.es/artem/audio/Silent Partner-True_Love.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Silent Partner`,\n  },\n  {\n    id: 2,\n    genre: `Регги`,\n    filePath: `http://gamersss.esy.es/artem/audio/Bob Marley–Buffalo Soldier.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Bob Marley`,\n  },\n  {\n    id: 3,\n    genre: `Регги`,\n    filePath: `http://gamersss.esy.es/artem/audio/Alai Oli–Радуга.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Alai Oli`,\n  },\n  {\n    id: 4,\n    genre: `Регги`,\n    filePath: `http://gamersss.esy.es/artem/audio/5'nizza–Моя Барселона.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `5'nizza`,\n  },\n  {\n    id: 5,\n    genre: `Реп`,\n    filePath: `http://gamersss.esy.es/artem/audio/Atl-архитектор.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Atl`,\n  },\n  {\n    id: 6,\n    genre: `Реп`,\n    filePath: `http://gamersss.esy.es/artem/audio/Каста-корабельная.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Каста`,\n  },\n  {\n    id: 7,\n    genre: `Реп`,\n    filePath: `http://gamersss.esy.es/artem/audio/Баста - я сморю на небо.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Баста`,\n  },\n  {\n    id: 8,\n    genre: `Реп`,\n    filePath: `http://gamersss.esy.es/artem/audio/25-17 - Виражи.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `25/17`,\n  },\n  {\n    id: 9,\n    genre: `Рок`,\n    filePath: `http://gamersss.esy.es/artem/audio/Ляпис Трубецкой - Евпатория.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Ляпис Трубецкой`,\n  },\n  {\n    id: 10,\n    genre: `Рок`,\n    filePath: `http://gamersss.esy.es/artem/audio/Би2-мой ро н ролл.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Би2 и Юлия Чечерина`,\n  },\n  {\n    id: 11,\n    genre: `Рок`,\n    filePath: `http://gamersss.esy.es/artem/audio/ДДТ - Просвистела.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `ДДТ`,\n  },\n  {\n    id: 12,\n    genre: `Рок`,\n    filePath: `http://gamersss.esy.es/artem/audio/Ария - Беспечный Ангел.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Ария`,\n  },\n  {\n    id: 13,\n    genre: `Поп`,\n    filePath: `http://gamersss.esy.es/artem/audio/Иван Дорн - Целовать другого.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Иван Дорн`,\n  },\n  {\n    id: 14,\n    genre: `Поп`,\n    filePath: `http://gamersss.esy.es/artem/audio/Монатик - кружит.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Монатик`,\n  },\n  {\n    id: 15,\n    genre: `Поп`,\n    filePath: `http://gamersss.esy.es/artem/audio/IOWA - бьет бит.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `IOWA`,\n  },\n  {\n    id: 16,\n    genre: `Поп`,\n    filePath: `http://gamersss.esy.es/artem/audio/JamesBrown–Sex Mashine.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `James Brown`,\n  },\n  {\n    id: 17,\n    genre: `Авторская песня`,\n    filePath: `http://gamersss.esy.es/artem/audio/Владимир Высоцкий–Утренняя гимнастика.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Владимир Высоцкий`,\n  },\n  {\n    id: 18,\n    genre: `Авторская песня`,\n    filePath: `http://gamersss.esy.es/artem/audio/Булат Окуджава - пиратская.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Булат Окуджава`,\n  },\n  {\n    id: 19,\n    genre: `Авторская песня`,\n    filePath: `http://gamersss.esy.es/artem/audio/Олег Митяев - Изгиб Гитары Желтой.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Олег Митяев`,\n  },\n  {\n    id: 20,\n    genre: `Авторская песня`,\n    filePath: `http://gamersss.esy.es/artem/audio/Игорь Растеряев–Георгиевская лента.mp3`,\n    imgPath: `img/music-cover.jpg`,\n    artist: `Игорь Растеряев`,\n  },\n];\n\nexport default tracks;\n","import getRandomScreenName from '../support/get-random-screen-name';\r\nimport getUniqueItemsFromArray from '../support/get-unique-items-from-array';\r\nimport computePercentage from '../support/computer-percentage';\r\nimport getRandomItem from '../support/get-random-item';\r\nimport songsData from '../data/tracks';\r\n\r\n\r\nexport function resetGame(state) {\r\n  return Object.assign({}, state);\r\n}\r\n\r\nexport function nextQuestion(state) {\r\n  debugger\r\n  const newScreen = getRandomScreenName();\r\n  let screenData;\r\n  const songs = getUniqueItemsFromArray(\r\n    (newScreen === `question-artist` ? 3 : 4),\r\n      songsData\r\n  );\r\n  const trueSong = getRandomItem(songs);\r\n  screenData = {\r\n    songs,\r\n    trueSong,\r\n  };\r\n\r\n  return Object.assign({}, state, {\r\n    currentQuestion: state.currentQuestion + 1,\r\n    screen: newScreen,\r\n    screenData,\r\n  });\r\n}\r\n\r\nexport function onQuestionAnswered(state, isAnswerCorrect) {\r\n  const {currentQuestion, questions, timer, lives} = state;\r\n\r\n  const isFinalQuestion = currentQuestion === questions;\r\n  const newScore = state.score + (isAnswerCorrect ? 1 : 0);\r\n  const newLives = isAnswerCorrect ? lives : lives - 1;\r\n\r\n  if (newLives < 0 || timer <= 0) {\r\n\r\n    return Object.assign({}, state, {\r\n      lives: newLives,\r\n      score: newScore,\r\n      currentQuestion: currentQuestion + 1,\r\n      screen: `result-fail`,\r\n    });\r\n  }\r\n\r\n  if (isFinalQuestion) {\r\n    return Object.assign({}, state, {\r\n      lives: newLives,\r\n      score: newScore,\r\n      currentQuestion: currentQuestion + 1,\r\n      screen: `result-success`,\r\n      screenData: {\r\n        percentage: computePercentage({\r\n          time: state.secondsPassed,\r\n          score: newScore,\r\n          statistics: state.statistics,\r\n        }),\r\n      },\r\n    });\r\n  }\r\n\r\n  return Object.assign({}, nextQuestion(state), {\r\n    lives: newLives,\r\n    score: newScore,\r\n  });\r\n}\r\n","const animate = {\n  getAnimation: (step, stepDuration, steps) => ({\n    step, stepDuration, steps\n  }),\n\n  animate: (animation, callback, callbackEnd) => {\n    const interval = setInterval(() => {\n      const nextStep = animation.step + 1;\n      if (nextStep <= animation.steps) {\n        animation = animate.getAnimation(nextStep, animation.stepDuration, animation.steps);\n        callback(animation);\n      } else {\n        stopFn();\n        if (typeof callbackEnd === `function`) {\n          callbackEnd();\n        }\n      }\n    }, animation.stepDuration);\n\n    const stopFn = () => clearInterval(interval);\n\n    return stopFn;\n  }\n};\n\nexport default animate;\n","const formatTime = (total, passed) => {\n  const minutesLeft = Math.floor((total - passed) / 60 / 1000);\n  const secondsLeft = (total - passed - minutesLeft * 60 * 1000) / 1000;\n\n  return {\n    minutes: minutesLeft,\n    seconds: secondsLeft\n  };\n};\n\nexport default formatTime;\n","// Окружность уменьшается за счет штриховки. Фактически, обводка состоит\n// из одного длинного штриха, а пропуск за счет расстояния до следующего\n// штриха. Задача правильной заливки состоит в том, чтобы правильно\n// задать расстояние до следующего штриха.\n//\n// Из радиуса можно рассчитать длину окружности. При известной длине окружности,\n// количестве шагов и номере текущего шага в анимации можно понять, на сколько\n// нужно уменьшать длину окружности на текущем шаге. Для этого надо вычесть\n// из нее длину одного шага умноженную на номер текущего шага.\n//\n// Длина окружности = 2πR\n// Длина шага = Длина окружности / Количество шагов\n// Пропуск = Длина шага * Номер шага\nimport animate from './animate.js';\nimport formatTime from './time-format.js';\nimport {getState, setState} from './data/initalState';\n\nconst redrawCircle = (circle, radius, animation) => {\n  const length = 2 * Math.PI * radius;\n  const stepLength = length / animation.steps;\n  const lengthToClear = stepLength * animation.step;\n\n  circle.setAttributeNS(null, `r`, radius.toString());\n  circle.setAttributeNS(null, `stroke-dasharray`, length.toString());\n  circle.setAttributeNS(null, `stroke-dashoffset`, lengthToClear.toString());\n\n  return circle;\n};\n\n\nconst addLeadingZero = (val) => val < 10 ? `0${val}` : val;\n\nconst redrawTimer = (timer, animation) => {\n  const total = animation.stepDuration * animation.steps;\n  const passed = animation.stepDuration * animation.step;\n  const timeLeft = formatTime(total, passed);\n\n  timer.querySelector(`.timer-value-mins`).textContent = addLeadingZero(timeLeft.minutes);\n  timer.querySelector(`.timer-value-secs`).textContent = addLeadingZero(timeLeft.seconds);\n\n  return timer;\n};\n\nconst updateSecondsLeft = (animation) => {\n  const state = getState();\n  setState(Object.assign({}, state, {\n    secondsPassed: animation.step\n  }));\n};\n\nconst initializeCountdown = (step, stepDuration, steps) => {\n  const element = document.querySelector(`.timer-line`);\n  const radius = parseInt(element.getAttributeNS(null, `r`), 10);\n  const timer = document.querySelector(`.timer-value`);\n\n  return animate.animate(animate.getAnimation(step, stepDuration, steps), (animation) => {\n    redrawCircle(element, radius, animation);\n    redrawTimer(timer, animation);\n    updateSecondsLeft(animation);\n  }, () => timer.classList.add(`timer-value--finished`));\n};\n\nexport default initializeCountdown;\n\n","export default function getElementFromTemplate(template) {\n  const element = document.createElement(`div`);\n  const fragment = document.createDocumentFragment();\n  element.innerHTML = template;\n  fragment.appendChild(element.firstChild);\n  return fragment;\n}\n","import createDom from '../support/createDomElement';\nconst template = `<section class=\"main\">\n  <section class=\"main main--welcome\">\n    <section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>\n    <button class=\"main-play\">Начать игру</button>\n    <h2 class=\"title main-title\">Правила игры</h2>\n    <p class=\"text main-text\">\n      Правила просты&nbsp;— за&nbsp;2 минуты дать\n      максимальное количество правильных ответов.<br>\n      Удачи!\n    </p>\n  </section>\n</section>`;\nexport default ({onPlayClick}) => {\n  const screenWelcome = createDom(template);\n\n  const playButton = screenWelcome.querySelector(`.main-play`);\n\n  playButton.addEventListener(`click`, onPlayClick);\n\n  return screenWelcome;\n};\n","import animate from './animate.js';\n\nconst updateState = (element, player) => {\n  element.querySelector(`.player-status`).style.width =\n      `${parseInt(player.currentTime * 100 / player.duration, 10)}%`;\n};\n\n\nconst syncState = (player, element) => {\n  element.classList.toggle(`player--is-playing`, !player.paused);\n};\n\n\nconst switchState = (state, player, element) => {\n  if (player.paused) {\n    player.play();\n    state.stopAnimation = animate.animate(\n        animate.getAnimation(player.currentTime, 1000, player.duration),\n        (animation) => updateState(element, player));\n  } else {\n    player.pause();\n    state.stopAnimation();\n    state.stopAnimation = null;\n  }\n\n  syncState(player, element);\n};\n\n\nconst destroyPlayer = (element, state) => {\n  const player = element.querySelector(`audio`);\n  const button = element.querySelector(`button`);\n\n  if (state.stopAnimation) {\n    state.stopAnimation();\n  }\n\n  player.src = null;\n  button.onclick = null;\n  element.innerHTML = ``;\n  state = null;\n\n  return true;\n};\n\n\nconst initializePlayer = (element, file, autoplay = true, controllable = true) => {\n  let state = {};\n\n  const content = document.querySelector(`template`)\n    .content\n    .querySelector(`.player`)\n    .cloneNode(true);\n  const player = content.querySelector(`audio`);\n  const button = content.querySelector(`.player-control`);\n\n  player.onloadeddata = () => {\n    if (controllable) {\n      button.onclick = () => switchState(state, player, content);\n    }\n\n    if (autoplay) {\n      switchState(state, player, content);\n    }\n  };\n\n  player.src = file;\n  element.appendChild(content);\n  element.classList.toggle(`player--no-controls`, !controllable);\n\n  return () => destroyPlayer(element, state);\n};\n\nexport default initializePlayer;\n","import createDom from '../support/createDomElement';\nimport initializePlayer from '../player.js';\n\n\nconst templateAnswer = (answer) => `<div class=\"main-answer-wrapper\">\n    <input class=\"main-answer-r\" type=\"radio\" id=\"${answer.id}\" name=\"answer\" value=\"${answer.genre}\" />\n    <label class=\"main-answer\" for=\"${answer.id}\">\n      <img class=\"main-answer-preview\" src=\"${answer.imgPath}\">\n      ${answer.artist}\n    </label>\n  </div>`;\n\nconst checkAnswer = function (element, trueSong) {\n  const answerID = +element.id;\n  const currentID = trueSong.id;\n\n  if (answerID === currentID) {\n    return true;\n  } else {\n    return false;\n  }\n};\n\nexport default ({songs, trueSong, answerCallback}) => {\n  const templateMain = `<section class=\"main main--level main--level-artist\">\n  <div class=\"main-wrap\">\n    <h2 class=\"title main-title\">Кто исполняет эту песню?</h2>\n    <div class=\"player-wrapper\"></div>\n    <form class=\"main-list\">\n      ${songs.map((answer) => templateAnswer(answer)).join(``)}\n    </form>\n  </div>\n</section>`;\n\n  const screenLevelArtist = createDom(templateMain);\n  const answerCollection = screenLevelArtist.querySelectorAll(`.main-answer-r`);\n  const playerWrapper = screenLevelArtist.querySelector(`.player-wrapper`);\n\n  initializePlayer(playerWrapper, trueSong.filePath, true);\n\n  const onAnswerClick = function (event) {\n    const answer = checkAnswer(event.target, trueSong);\n    answerCallback(answer);\n  };\n\n  for (const answer of answerCollection) {\n    answer.addEventListener(`change`, onAnswerClick);\n  }\n\n  return screenLevelArtist;\n};\n","import createDom from '../support/createDomElement';\nimport initializePlayer from '../player.js';\n\nexport default ({songs, trueSong, answerCallback}) => {\n\n  const templateAnswer = (answer) => `\n    <div class=\"genre-answer\">\n    <div class=\"player-wrapper\" data-track=\"${answer.filePath}\"></div>\n    <input type=\"checkbox\" name=\"answer\" value=\"${answer.genre}\" \" id=\"${answer.id}\">\n    <label class=\"genre-answer-check\" for=\"${answer.id}\"></label>\n  </div>`;\n\n\n  const templateMain = `<section class=\"main\">\n    <section class=\"main main--level main--level-genre\">\n      <h2 class=\"title\">Выберите ${trueSong.genre} треки</h2>\n      <form class=\"genre\">\n        ${songs.map((answer) => templateAnswer(answer)).join(``)}\n        <button type=\"button\" class=\"genre-answer-send\" disabled>Ответить</button>\n      </form>\n    </section>\n  </section>`;\n\n  const screenLevelGenre = createDom(templateMain);\n\n  const playerWrappers = screenLevelGenre.querySelectorAll(`.player-wrapper`);\n  const checkboxes = screenLevelGenre.querySelectorAll(`input[name=\"answer\"]`);\n  const answerSend = screenLevelGenre.querySelector(`.genre-answer-send`);\n\n  playerWrappers.forEach((wrapper) => initializePlayer(wrapper, wrapper.dataset.track, false));\n  let trueChecks = 0;\n  checkboxes.forEach(function (checkbox) {\n    checkbox.addEventListener(`change`, function () {\n      trueChecks += (checkbox.checked ? 1 : -1);\n      if (trueChecks === 0) {\n        answerSend.setAttribute(`disabled`, ``);\n      } else {\n        answerSend.removeAttribute(`disabled`);\n      }\n    });\n  });\n\n  const checkAnswer = () => {\n    for (let i = 0; checkboxes.length; i++) {\n      const answerGenre = checkboxes[i].value;\n      const trueGenre = trueSong.genre;\n\n      if ((checkboxes[i].checked && answerGenre !== trueGenre) || (!checkboxes[i].checked && answerGenre === trueGenre)) {\n        return false;\n      }\n    }\n    return true;\n  };\n\n  const onAnswerClick = function (event) {\n    answerCallback(checkAnswer());\n  };\n\n  answerSend.addEventListener(`click`, onAnswerClick);\n\n  return screenLevelGenre;\n};\n","import createDom from '../support/createDomElement';\n\nexport default ({totalScore, percentage, onClickReplay}) => {\n  const template = `<section class=\"main main--result main--result-success\">\n    <section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>\n    <h2 class=\"title\">Вы настоящий меломан!</h2>\n    <div class=\"main-stat\">За&nbsp;2&nbsp;минуты<br>вы&nbsp;отгадали ${totalScore}&nbsp;мелодии</div>\n    <span class=\"main-comparison\">Это&nbsp;лучше чем у&nbsp;${percentage}%&nbsp;игроков</span>\n    <span role=\"button\" tabindex=\"0\" class=\"main-replay\">Сыграть ещё раз</span>\n  </section>`;\n\n  const screenResultSuccess = createDom(template);\n\n  const replayButton = screenResultSuccess.querySelector(`.main-replay`);\n\n  replayButton.addEventListener(`click`, onClickReplay);\n\n  return screenResultSuccess;\n};\n","import createDom from '../support/createDomElement';\nconst template = `<section class=\"main\">\n  <section class=\"main main--result\">\n    <section class=\"logo\" title=\"Угадай мелодию\"><h1>Угадай мелодию</h1></section>\n    <h2 class=\"title\">Вы проиграли</h2>\n    <div class=\"main-stat\">Ничего, вам повезет в следующий раз</div>\n    <span role=\"button\" tabindex=\"0\" class=\"main-replay\">Сыграть ещё раз</span>\n  </section>\n</section>`;\nexport default ({onClickReplay}) => {\n  const screenResultFail = createDom(template);\n\n  const replayButton = screenResultFail.querySelector(`.main-replay`);\n\n  replayButton.addEventListener(`click`, onClickReplay);\n\n  return screenResultFail;\n};\n\n","const convertTime = (time) => {\r\n  return {\r\n    min: (`0` + Math.trunc(time / 60)).substr(-2, 2),\r\n    sec: (`0` + time % 60).substr(-2, 2),\r\n  };\r\n};\r\n\r\nexport default convertTime;\r\n","import createDom from '../support/createDomElement';\r\nimport convertTime from '../support/convert-time';\r\n\r\nexport default (timer) => {\r\n\r\n  const templateTimer = (time) => `<div class=\"timer\">\r\n  <svg xmlns=\"http://www.w3.org/2000/svg\" class=\"timer\" viewBox=\"0 0 780 780\">\r\n      <circle\r\n        cx=\"390\" cy=\"390\" r=\"370\"\r\n        class=\"timer-line\"\r\n        style=\"filter: url(.#blur); transform: rotate(-90deg) scaleY(-1); transform-origin: center\"></circle>\r\n      <div class=\"timer-value\" xmlns=\"http://www.w3.org/1999/xhtml\">\r\n        <span class=\"timer-value-mins\">${time.min}</span><!--\r\n        --><span class=\"timer-value-dots\">:</span><!--\r\n        --><span class=\"timer-value-secs\">${time.sec}</span>\r\n      </div>\r\n    </svg>\r\n  </div>\r\n  `;\r\n\r\n  const screenCircle = createDom(templateTimer(convertTime(timer)));\r\n\r\n  return screenCircle;\r\n};\r\n","const clearTimer = () => {\r\n  const app = document.querySelector(`.app`);\r\n  const timer = app.querySelector(`.timer`);\r\n  const timerTemplate = document.createElement(`section`);\r\n  timerTemplate.classList.add(`timer`);\r\n  app.replaceChild(timerTemplate, timer);\r\n};\r\n\r\nexport default clearTimer;\r\n","import {getState, setState} from '../data/initalState';\r\nimport {resetGame, nextQuestion, onQuestionAnswered} from './main-logic';\r\nimport initializeCountdown from '../timer.js';\r\n\r\nimport screenWelcome from '../screenModules/main-welcom';\r\nimport screenLevelArtist from '../screenModules/main-artist';\r\nimport screenLevelGenre from '../screenModules/main-genre';\r\nimport screenLevelSuccess from '../screenModules/main-result-luck';\r\nimport screenLevelFail from '../screenModules/main-result-fail';\r\nimport screenTimer from '../screenModules/screen-timer';\r\nimport clearTimer from '../support/clear-timer';\r\n\r\nconst app = document.querySelector(`.app`);\r\nlet currentScreen;\r\nlet timer;\r\n\r\nconst renderScreen = function (template) {\r\n  currentScreen = app.querySelector(`.main`);\r\n  app.replaceChild(template, currentScreen);\r\n};\r\n\r\nconst renderTimer = function (template) {\r\n  timer = app.querySelector(`.timer`);\r\n  app.replaceChild(template, timer);\r\n};\r\n\r\nexport function renderState() {\r\n  debugger\r\n  const state = getState();\r\n  switch (state.screen) {\r\n\r\n    case `welcome`:\r\n      return renderScreen(screenWelcome({\r\n        onPlayClick: () => {\r\n          setState(nextQuestion(getState()));\r\n          renderState();\r\n          renderTimer(screenTimer(state.timer));\r\n          initializeCountdown(0, 1000, state.timer);\r\n        }\r\n      }));\r\n\r\n    case `question-artist`:\r\n      return renderScreen(screenLevelArtist({\r\n        songs: state.screenData.songs,\r\n        trueSong: state.screenData.trueSong,\r\n        answerCallback: (isAnswerCorrect) => {\r\n          setState(onQuestionAnswered(getState(), isAnswerCorrect));\r\n          renderState();\r\n        }\r\n      }));\r\n\r\n    case `question-genre`:\r\n      return renderScreen(screenLevelGenre({\r\n        songs: state.screenData.songs,\r\n        trueSong: state.screenData.trueSong,\r\n        answerCallback: (isAnswerCorrect) => {\r\n          setState(onQuestionAnswered(getState(), isAnswerCorrect));\r\n          renderState();\r\n        }\r\n      }));\r\n\r\n    case `result-success`:\r\n      clearTimer();\r\n      return renderScreen(screenLevelSuccess({\r\n        totalScore: state.score,\r\n        percentage: state.screenData.percentage,\r\n        onClickReplay: () => {\r\n          setState(resetGame(getState()));\r\n          renderState();\r\n        }\r\n      }));\r\n\r\n    case `result-fail`:\r\n      clearTimer();\r\n      return renderScreen(screenLevelFail({\r\n        onClickReplay: () => {\r\n          setState(resetGame(getState()));\r\n          renderState();\r\n        }\r\n      }));\r\n  }\r\n  return null;\r\n}\r\n","import {initialState, setState} from './data/initalState';\nimport {resetGame} from './logic/main-logic';\nimport {renderState} from './logic/render';\n\nsetState(resetGame(initialState));\nrenderState();\n\n\n"],"names":["songsData","createDom","template"],"mappings":"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"}